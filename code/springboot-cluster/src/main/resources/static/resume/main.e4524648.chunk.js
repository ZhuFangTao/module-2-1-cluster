(this["webpackJsonplagou-resume"]=this["webpackJsonplagou-resume"]||[]).push([[0],{179:function(e,t,a){e.exports=a(361)},184:function(e,t,a){},185:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(184),a(24)),i=a(35),d=a(95),u=a(60),s=(a(185),a(5)),m=a(27),f=a.n(m),h=a(96),v=a(62),p=a(10),b=a(45),y=a(30),S=a(365),g=a(366),j=a(367),E=a(363),O=a(18),k=a(364),x=a(97),w=a.n(x),I=r.a.createContext(),C=function(e){e.index;var t=Object(y.a)(e,["index"]),a=S.a.useForm(),n=Object(b.a)(a,1)[0];return r.a.createElement(S.a,{form:n,component:!1},r.a.createElement(I.Provider,{value:n},r.a.createElement("tr",t)))},R=function(e){var t=e.title,a=e.editable,c=e.children,o=e.dataIndex,l=e.record,i=e.handleSave,d=Object(y.a)(e,["title","editable","children","dataIndex","record","handleSave"]),u=Object(n.useState)(!1),s=Object(b.a)(u,2),m=s[0],j=s[1],E=Object(n.useRef)(),O=Object(n.useContext)(I);Object(n.useEffect)((function(){m&&E.current.focus()}),[m]);var k=function(){j(!m),O.setFieldsValue(Object(p.a)({},o,l[o]))},x=function(){var e=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.validateFields();case 3:a=e.sent,k(),i(Object(h.a)({},l,{},a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=c;return a&&(w=m?r.a.createElement(S.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(t," is required.")}]},r.a.createElement(g.a,{ref:E,onPressEnter:x,onBlur:x})):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:k},c)),r.a.createElement("td",d,w)},B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).refresh=function(){w.a.get("/lagou/resume/queryAll").then((function(e){for(var t=0;t<e.data.length;t++)e.data[t].key=e.data[t].id;n.setState({dataSource:e.data,count:e.data.length})}))},n.handleDelete=function(e){w.a.delete("/lagou/resume/delete?id="+e).then((function(e){200===e.status?n.refresh():alert("\u5220\u9664\u5931\u8d25"+e.data)}))},n.handleAdd=function(){var e=n.state,t=e.count,a=(e.dataSource,{key:0,name:"\u59d3\u540d ".concat(t+1),address:"\u5730\u5740 ".concat(t+1),phone:"00000"});n.handleSaveSingleRecord(a)},n.handleSaveSingleRecord=function(e){0!==e.key&&(e.id=e.key),w.a.post("/lagou/resume/save",e).then((function(e){n.refresh()}))},n.handleSave=function(e){var t=Object(s.a)(n.state.dataSource),a=t.findIndex((function(t){return e.key===t.key})),r=t[a];t.splice(a,1,Object(h.a)({},r,{},e)),n.setState({dataSource:t})},n.columns=[{title:"\u59d3\u540d",dataIndex:"name",width:"30%",editable:!0},{title:"\u5730\u5740",dataIndex:"address",editable:!0},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"phone",editable:!0},{title:"\u64cd\u4f5c",dataIndex:"operation",render:function(e,t){return n.state.dataSource.length>=1?r.a.createElement("div",null,r.a.createElement(j.a,{key:"0001",title:"\u786e\u5b9a\u5220\u9664\u5417",onConfirm:function(){return n.handleDelete(t.key)}},r.a.createElement("a",{type:"delete"},"\u5220\u9664")),r.a.createElement(E.a,{type:"vertical"}),r.a.createElement(j.a,{key:"0002",title:"\u786e\u8ba4\u4fdd\u5b58\u5417",onConfirm:function(){return n.handleSaveSingleRecord(t)}},r.a.createElement("a",null,"\u4fdd\u5b58"))):null}}],n.state={dataSource:[],count:0},n}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.refresh()}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:C,cell:R}},n=this.columns.map((function(t){return t.editable?Object(h.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return r.a.createElement("div",null,r.a.createElement(O.a,{onClick:this.handleAdd,type:"primary",style:{marginTop:16,marginBottom:5,left:"92vw"}},"\u65b0\u589e\u7b80\u5386"),r.a.createElement(k.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:n}),r.a.createElement("span",{style:{fontSize:30,position:"absolute",paddingLeft:"200px",color:"deeppink"}},"\u70b9\u51fb\u5185\u5bb9\u680f\u53ef\u4fee\u6539\u5185\u5bb9,\u4fee\u6539\u5b8c\u6210\u540e\u9700\u70b9\u51fb\u884c\u5185\u4fdd\u5b58\u6309\u94ae\u624d\u80fd\u5c06\u6570\u636e\u4e0a\u4f20\u6570\u636e\u5e93\u3002\u70b9\u51fb\u65b0\u589e\u7b80\u5386\u5c06\u81ea\u52a8\u4fdd\u5b58\u3002"))}}]),a}(r.a.Component),q=(a(360),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(B,null)}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.e4524648.chunk.js.map